//-- กำหนดกิลวอร์ วัน อังคาร พฤหัส เสาร์ อาทิตย์ เวลา 1900-2000 หากต้องการจะปิดบ้านให้ทำการลบ Npc วาป และ Npc ตัวแจกของรางวัล ของบ้านหลังนั้นๆด้วย
//-- หากจะกำหนดวันวอร์ใหม่ เปลี่ยนเลขเป็นดังนี้ อาทิตย์ = 0 จันทร์ = 1 อังคาร = 2 พุธ = 3 พฤหัส = 4 ศุกร์ = 5 เสาร์ = 6
//-- หากเปิด server ไปแล้วแต่ยังไม่ต้องการให้วอร์เริ่มใส่ //-	script	Agit_Event	-1,{

-	script	Agit_Event	-1,{
	end;

OnClock1900:
	if(gettime(4)==0||gettime(4)==1||gettime(4)==2||gettime(4)==3||gettime(4)==4||gettime(4)==5||gettime(4)==6) {goto L_Start;}

end;

OnClock2000:
	if(gettime(4)==0||gettime(4)==1||gettime(4)==2||gettime(4)==3||gettime(4)==4||gettime(4)==5||gettime(4)==6) {goto L_End;}

end;

L_Start:
	if (!agitcheck())
		AgitStart;
	Announce "สงคราม Guild War Of Emperium ได้เริ่มต้นขึ้นแล้ว",8;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 59 นาที 59 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 59 นาที 58 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 59 นาที 57 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 59 นาที 56 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 59 นาที 55 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 59 นาที 54 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 59 นาที 53 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 59 นาที 52 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 59 นาที 51 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 59 นาที 50 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เวลาจะนับถอยหลังไปเรื่อยๆจนกว่าจะครบ 1 ชั่วโมง !!",bc_all,0x00EE00;
	sleep2 290000;
	Announce "Guild War เหลือเวลาอีก 55 นาที",bc_all,0x00EE00;
	sleep2 600000;
	Announce "Guild War เหลือเวลาอีก 45 นาที",bc_all,0x00EE00;
	sleep2 600000;
	Announce "Guild War เหลือเวลาอีก 35 นาที",bc_all,0x00EE00;
	sleep2 600000;
	Announce "Guild War เหลือเวลาอีก 25 นาที",bc_all,0x00EE00;
	sleep2 600000;
	Announce "Guild War เหลือเวลาอีก 15 นาที",bc_all,0x00EE00;
	sleep2 300000;
	Announce "Guild War เหลือเวลาอีก 10 นาที",bc_all,0x00EE00;
	sleep2 300000;
	Announce "Guild War เหลือเวลาอีก 5 นาที",bc_all,0x00EE00;
	sleep2 60000;
	Announce "Guild War เหลือเวลาอีก 4 นาที",bc_all,0x00EE00;
	sleep2 60000;
	Announce "Guild War เหลือเวลาอีก 3 นาที",bc_all,0x00EE00;
	sleep2 60000;
	Announce "Guild War เหลือเวลาอีก 2 นาที",bc_all,0x00EE00;
	sleep2 60000;
	Announce "Guild War เหลือเวลาอีก 1 นาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 59 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 58 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 57 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 56 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 55 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 54 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 53 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 52 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 51 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 50 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 49 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 48 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 47 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 46 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 45 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 44 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 43 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 42 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 41 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 40 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 39 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 38 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 37 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 36 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 35 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 34 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 33 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 32 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 31 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 30 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 29 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 28 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 27 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 26 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 25 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 24 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 23 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 22 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 21 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 20 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 19 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 18 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 17 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 16 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 15 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 14 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 13 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 12 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 11 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 10 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 9 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 8 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 7 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 6 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 5 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 4 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 6 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 2 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	Announce "Guild War เหลือเวลาอีก 1 วินาที",bc_all,0x00EE00;
	sleep2 1000;
	end;

L_End:
	if (agitcheck())
		AgitEnd;
		Announce "สิ้นสุดสงคราม Guild Wars Of Emperium แล้วครับ",8;
		sleep2 3000;
		Announce "รายงานผล Guild War",8;
		callsub S_DisplayOwners;
	end;

S_DisplayOwners:
	setarray .@maps$[0],"aldeg_cas01","aldeg_cas02","aldeg_cas03","aldeg_cas04","aldeg_cas05";
	setarray .@maps$[5],"gefg_cas01","gefg_cas02","gefg_cas03","gefg_cas04","gefg_cas05";
	setarray .@maps$[10],"payg_cas01","payg_cas02","payg_cas03","payg_cas04","payg_cas05";
	setarray .@maps$[15],"prtg_cas01","prtg_cas02","prtg_cas03","prtg_cas04","prtg_cas05";
	setarray .@maps$[20],"guildvs01","guildvs02","guildvs03","guildvs04","guildvs05";
	for( set .@i, 0; .@i <= 24; set .@i, .@i+1 ) {
		if (GetCastleData(.@maps$[.@i],1)) {
			Announce "ปราสาท [" + GetCastleName(.@maps$[.@i]) + "] ได้ถูกยึกครองโดย [" + GetGuildName(GetCastleData(.@maps$[.@i],1)) + "] Guild.",bc_all|bc_woe;
		}
		else {
			Announce "ปราสาท [" + GetCastleName(.@maps$[.@i]) + "] ยังไม่มี Guild ใดครอบครอง.",bc_all|bc_woe;
		}
	}
	end;
}